"use strict";angular.module("cccLoanCalcNgGruntApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl",controllerAs:"about"}).otherwise({redirectTo:"/"})}]),angular.module("cccLoanCalcNgGruntApp").controller("MainCtrl",["$scope",function(a){a.data={principal:parseFloat("1000"),principalText:"",rate:parseFloat("1"),termLength:parseInt("1"),termLengthType:"years",monthlyPayment:parseFloat(""),totalInterest:0,grandTotal:0},a.calculate=function(){a.data.principal=a.cleanNumber(String(a.data.principal),2),a.data.rate=a.cleanNumber(String(a.data.rate),4);var b=0,c=a.data.principal,d=a.data.rate/100,e=a.data.termLength,f=12;"months"===a.data.termLengthType&&(e/=12,f=12);var g=-1*e*f;a.data.monthlyPayment=b=c*d/(f*(1-Math.pow(1+d/f,g))),a.data.totalInterest=a.calculateTotalInterest(b,c,e,f),a.data.grandTotal=a.calculateGrandTotal(b,e,f)},a.calculateTotalInterest=function(a,b,c,d){return a*c*d-b},a.calculateGrandTotal=function(a,b,c){return a*b*c},a.cleanNumber=function(a,b){a=a.replace(/[^\d.]/g,"");var c=a.split(".");return c.length>2?(window.alert("You have too many decimals!"),parseFloat(c[0]+"."+c[1])):2===c.length&&c[1].length>b?(window.alert("You can only specify up to "+b+" decimal places."),parseFloat(c[0]+"."+c[1].substr(0,b))):a}}]),angular.module("cccLoanCalcNgGruntApp").controller("AboutCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("cccLoanCalcNgGruntApp").run(["$templateCache",function(a){a.put("views/about.html","<p>This is the about view.</p>"),a.put("views/main.html",'<div class="container" ng-init="calculate()"> <div class="row"> <h2 class="col-sm-12">Simple Fixed Interest Rate Calculator</h2> </div> <form name="calcForm" class="form-horizontal css-form" novalidate> <div class="form-group row"> <div class="input-group"> <span class="input-group-addon"> <label for="principal" class="control-label" style="padding:0">Principal</label> </span> <span class="input-group-addon" id="principal-dollar-sign">$</span> <input id="principal" type="text" ng-model="data.principal" value="{{data.principal}}" ng-change="calculate()" class="form-control" aria-describedby="principal-dollar-sign" required> </div> <div ng-show="calcForm.principal.$touched && calcForm.principal.$error.required">Please enter a principal amount.</div> </div> <div class="form-group row"> <div class="input-group"> <span class="input-group-addon"> <label for="term-length" class="control-label" style="padding:0">Term Length</label> </span> <input id="term-length" type="text" ng-model="data.termLength" value="{{data.termLength | number:0}" class="form-control" ng-change="calculate()"> <span class="input-group-addon"> <input id="term-length-years" name="termLengthType" type="radio" value="years" aria-label="Years" ng-model="data.termLengthType" ng-change="calculate()"> <label for="term-length-years">Years</label> <input id="term-length-months" name="termLengthType" type="radio" value="months" aria-label="Months" ng-model="data.termLengthType" ng-change="calculate()"> <label for="term-length-months">Months</label> </span> </div> </div> <div class="form-group row"> <div class="input-group"> <span class="input-group-addon"> <label for="rate" class="control-label" style="padding:0">Interest Rate</label> </span> <input id="rate" type="text" ng-model="data.rate" value="{{data.rate | number:4}}" class="form-control" aria-describedby="rate-percent-sign" ng-change="calculate()"> <span class="input-group-addon" id="rate-percent-sign">%</span> </div> </div> <!--<button type="button" ng-click="calculate()">Calculate</button>--> </form> <div> <h3>Monthly Payment: <span ng-model="data.monthlyPayment">{{data.monthlyPayment | currency}}</span> </h3> </div> <div> <h3>Total Interest Paid: <span ng-model="data.totalInterest">{{data.totalInterest | currency}}</span> </h3> </div> <div> <h3>Total Amount Paid: <span ng-model="data.grandTotal">{{data.grandTotal | currency}}</span> </h3> </div> </div>')}]);